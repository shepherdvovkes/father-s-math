# Графический калькулятор функций - Документация

## Обзор проекта

Графический калькулятор функций - это полноценное приложение для построения графиков 30 различных математических функций с использованием архитектуры MVC (Model-View-Controller). Программа поддерживает декартовые, параметрические и полярные координаты, а также предоставляет 10 "красивых" шаблонов для каждой функции.

## Архитектура MVC

### 1. Model (Модель) - "Мозг" программы

#### FunctionLibrary (Библиотека функций)
- **Файл**: `model/function_library.py`
- **Назначение**: Хранит все 30 функций и их шаблоны
- **Основные методы**:
  - `get_function_names()` - список всех функций
  - `get_function_info(name)` - информация о функции
  - `get_templates(name)` - шаблоны для функции
  - `get_function(name)` - функция для вычислений

#### Calculator (Вычислитель)
- **Файл**: `model/calculator.py`
- **Назначение**: Выполняет вычисления для построения графиков
- **Основные методы**:
  - `calculate_points()` - вычисляет точки графика
  - `get_default_x_range()` - рекомендуемый диапазон X

### 2. View (Представление) - "Лицо" программы

#### UIPanel (Панель управления)
- **Файл**: `view/ui_panel.py`
- **Назначение**: Пользовательский интерфейс для выбора функций и параметров
- **Компоненты**:
  - Выпадающие списки для выбора функции и шаблона
  - Поля для ручного ввода параметров
  - Настройка диапазона X
  - Информационная панель с формулой и описанием

#### GraphCanvas (Холст для графика)
- **Файл**: `view/graph_canvas.py`
- **Назначение**: Отображение графиков с использованием matplotlib
- **Возможности**:
  - Поддержка декартовых, параметрических и полярных координат
  - Автоматическое масштабирование
  - Интерактивная панель инструментов
  - Сохранение графиков

### 3. Controller (Контроллер) - "Менеджер" программы

#### MainController (Главный контроллер)
- **Файл**: `controller/main_controller.py`
- **Назначение**: Связывает Model и View, управляет взаимодействием
- **Основные методы**:
  - `on_function_selected()` - обработка выбора функции
  - `on_template_selected()` - обработка выбора шаблона
  - `on_plot_requested()` - обработка запроса на построение графика

## Список функций

### Полиномиальные функции (4)
1. **Прямая линия** - y = ax + b
2. **Парабола** - y = ax² + bx + c
3. **Кубическая парабола** - y = ax³ + bx² + cx + d
4. **Полином 4-й степени** - y = ax⁴ + bx³ + cx² + dx + e

### Рациональные функции (2)
5. **Гипербола** - y = a/(x - b) + c
6. **Колокол Аньези** - y = a/(x² + b)

### Степенные и корневые функции (3)
7. **Квадратный корень** - y = a√(x - h) + k
8. **Кубический корень** - y = a∛(x - h) + k
9. **Степенная функция** - y = ax^b

### Экспоненциальные функции (3)
10. **Экспоненциальный рост** - y = ae^(bx)
11. **Колокол Гаусса** - y = ae^(-b(x-c)²)
12. **Сигмоида** - y = L/(1 + e^(-k(x-x₀)))

### Логарифмические функции (1)
13. **Логарифмическая** - y = a log_b(cx + d)

### Тригонометрические функции (5)
14. **Синусоида** - y = a sin(bx + c) + d
15. **Тангенсоида** - y = a tan(bx)
16. **Секансоида** - y = a sec(bx)
17. **Sinc функция** - y = a sin(x)/x
18. **Затухающие колебания** - y = ae^(-bx) cos(cx)

### Модульные и кусочные функции (3)
19. **Модуль** - y = a|x - h| + k
20. **Ступенчатая функция** - y = a floor(bx)
21. **Пила** - y = a(x % b)

### Параметрические функции (4)
22. **Эллипс** - x = a cos(t), y = b sin(t)
23. **Циклоида** - x = a(t-sin(t)), y = a(1-cos(t))
24. **Фигуры Лиссажу** - x = cos(at), y = sin(bt)
25. **Астроида** - x = a cos³(t), y = a sin³(t)

### Полярные функции (5)
26. **Спираль Архимеда** - r = aθ
27. **Роза** - r = a cos(kθ)
28. **Кардиоида** - r = a(1 - cos(θ))
29. **Лемниската Бернулли** - r² = a² cos(2θ)
30. **Звезда Давида** - r = a + b cos(kθ)

### Экзотические функции (1)
31. **Гармошка** - y = a sin(b/x)

## Шаблоны функций

Каждая функция имеет 10 "красивых" шаблонов с предустановленными параметрами:

### Примеры шаблонов для параболы:
- **Классика**: a=1, b=0, c=0 (стандартная парабола)
- **Узкая и высокая**: a=5, b=0, c=0 (сильно сжата по горизонтали)
- **Широкая чаша**: a=0.2, b=0, c=0 (широкая, пологая)
- **Перевернутая**: a=-1, b=0, c=0 (ветви вниз)
- **Сдвиг вправо и вверх**: a=1, b=-6, c=9 (вершина в (3,0))

### Специальный пример: Звезда Давида

**Формула**: r = a + b cos(kθ)

**Классическая звезда**: a=4, b=-2, k=6

Эта функция создает шестиконечную звезду, используя полярные координаты. Параметр k=6 определяет количество лучей звезды.

**Почему полярные координаты?**
- В декартовых координатах y = f(x) для каждого x может быть только одно значение y
- Звезда не проходит "тест вертикальной линии"
- Полярные координаты r = f(θ) позволяют создавать замкнутые фигуры

## Установка и запуск

### Требования
- Python 3.8+
- matplotlib >= 3.8.0
- numpy >= 1.26.0

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Запуск программы
```bash
python main.py
```

### Демонстрация возможностей
```bash
python demo.py
```

## Использование программы

### 1. Выбор функции
- Выберите функцию из выпадающего списка
- Просмотрите формулу и описание функции

### 2. Выбор шаблона
- Выберите один из 10 "красивых" шаблонов
- Параметры автоматически заполнятся

### 3. Ручной ввод параметров
- Измените значения в полях параметров
- Используйте десятичные числа (например, 3.14)

### 4. Настройка диапазона
- Укажите минимальное и максимальное значение X
- Для некоторых функций диапазон автоматически настраивается

### 5. Построение графика
- Нажмите кнопку "Построить график"
- Используйте панель инструментов для масштабирования

### 6. Сохранение
- Используйте меню "Файл" → "Сохранить график..."
- Поддерживаются форматы PNG, JPEG, PDF

## Особенности программы

### Поддержка различных типов координат
- **Декартовы координаты**: y = f(x)
- **Параметрические координаты**: x = f(t), y = g(t)
- **Полярные координаты**: r = f(θ)

### Автоматическая обработка ошибок
- Деление на ноль
- Логарифм от отрицательного числа
- Корень из отрицательного числа
- Бесконечные значения

### Интерактивные возможности
- Масштабирование и перемещение по графику
- Панель инструментов matplotlib
- Автоматическое масштабирование
- Отображение осей координат и сетки

## Структура проекта

```
lesson1/
├── main.py                 # Главный файл запуска
├── demo.py                 # Демонстрационный скрипт
├── requirements.txt        # Зависимости
├── README.md              # Краткое описание
├── DOCUMENTATION.md       # Подробная документация
├── model/
│   ├── __init__.py
│   ├── function_library.py # Библиотека функций
│   ├── calculator.py       # Вычислитель
│   └── templates.py        # Шаблоны функций
├── view/
│   ├── __init__.py
│   ├── ui_panel.py         # Панель управления
│   └── graph_canvas.py     # Холст для графика
└── controller/
    ├── __init__.py
    └── main_controller.py  # Главный контроллер
```

## Расширение функциональности

### Добавление новой функции
1. Добавьте функцию в `model/function_library.py`
2. Создайте шаблоны в `model/templates.py`
3. Обновите описания в `view/ui_panel.py`

### Добавление нового типа координат
1. Добавьте новый тип в `model/function_library.py`
2. Реализуйте вычисления в `model/calculator.py`
3. Добавьте отображение в `view/graph_canvas.py`

## Технические детали

### Обработка математических ошибок
Программа корректно обрабатывает:
- Деление на ноль
- Логарифм от неположительного числа
- Корень из отрицательного числа
- Бесконечные значения
- NaN (Not a Number)

### Производительность
- Используется numpy для быстрых вычислений
- Оптимизированное построение графиков
- Эффективная фильтрация невалидных точек

### Совместимость
- Python 3.8+
- Кроссплатформенность (Windows, macOS, Linux)
- Поддержка различных разрешений экрана

## Заключение

Графический калькулятор функций представляет собой полноценное приложение для изучения и визуализации математических функций. Архитектура MVC обеспечивает модульность и расширяемость, а богатый набор функций и шаблонов делает программу полезной как для обучения, так и для научных исследований.

Особое внимание уделено функции "Звезда Давида", которая демонстрирует важность выбора правильной системы координат для создания сложных геометрических фигур.
