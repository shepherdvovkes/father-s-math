# üé® Background Remover CLI

**CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞**

–£–¥–∞–ª—è–π—Ç–µ —Ñ–æ–Ω —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤, —Ç–æ–≤–∞—Ä–æ–≤ –∏ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–¥–Ω–∏–º –ø—Ä–æ—Å—Ç—ã–º –∫–æ–º–∞–Ω–¥–æ–π!

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üñºÔ∏è **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤**: PNG, JPG, JPEG, WEBP, TIFF, BMP
- üìÅ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫**: –æ–¥–∏–Ω —Ñ–∞–π–ª –∏–ª–∏ —Ü–µ–ª–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- üîÑ **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö
- ü§ñ **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ AI –º–æ–¥–µ–ª–µ–π**: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üéØ **Alpha matting**: —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫—Ä–∞–µ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- üìä **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚öôÔ∏è **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd background_remover
./install.sh
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd background_remover
pip install -r requirements.txt
pip install -e .
```

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ —Å –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
bg-remove photo.jpg result.png

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø–∞–ø–∫–µ
bg-remove photos/ results/

# –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–æ–¥–ø–∞–ø–∫–∞–º–∏
bg-remove -r photos/ results/
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å alpha matting
bg-remove --alpha-matting photo.jpg result.png

# –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤
bg-remove -m u2net_human_seg portrait.jpg result.png

# –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∞–Ω–∏–º–µ
bg-remove -m isnet-anime anime.jpg result.png

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ WebP
bg-remove -f webp photo.jpg result.webp
```

## ü§ñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ AI

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ |
|--------|----------|----------|----------|
| `u2net` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ |
| `u2netp` | –õ–µ–≥–∫–∞—è –≤–µ—Ä—Å–∏—è u2net | –ë—ã—Å—Ç—Ä–∞—è | –•–æ—Ä–æ—à–µ–µ |
| `u2net_human_seg` | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –ª—é–¥–µ–π | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–æ–µ –¥–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ |
| `u2net_cloth_seg` | –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –æ–¥–µ–∂–¥—ã | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–æ–µ –¥–ª—è –æ–¥–µ–∂–¥—ã |
| `silueta` | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | –°—Ä–µ–¥–Ω–µ–µ |
| `isnet-general-use` | –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ |
| `isnet-anime` | –î–ª—è –∞–Ω–∏–º–µ/–º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤ | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–æ–µ –¥–ª—è –∞–Ω–∏–º–µ |

## üìã –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```bash
bg-remove [–û–ü–¶–ò–ò] –í–•–û–î–ù–û–ô_–ü–£–¢–¨ –í–´–•–û–î–ù–û–ô_–ü–£–¢–¨

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
  –í–•–û–î–ù–û–ô_–ü–£–¢–¨     –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–ª–∏ –ø–∞–ø–∫–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
  –í–´–•–û–î–ù–û–ô_–ü–£–¢–¨    –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–û–ø—Ü–∏–∏:
  -r, --recursive              –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –ø–æ–¥–ø–∞–ø–æ–∫
  -m, --model TEXT            –ú–æ–¥–µ–ª—å AI [u2net/u2netp/u2net_human_seg/u2net_cloth_seg/silueta/isnet-general-use/isnet-anime]
  --alpha-matting             –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å alpha matting –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
  --foreground-threshold INT  –ü–æ—Ä–æ–≥ –¥–ª—è –ø–µ—Ä–µ–¥–Ω–µ–≥–æ –ø–ª–∞–Ω–∞ (0-255) [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 240]
  --background-threshold INT  –ü–æ—Ä–æ–≥ –¥–ª—è —Ñ–æ–Ω–∞ (0-255) [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10]
  --erode-size INT            –†–∞–∑–º–µ—Ä —ç—Ä–æ–∑–∏–∏ –¥–ª—è alpha matting [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10]
  -f, --format TEXT           –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ [png/webp] [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: png]
  -v, --verbose               –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
  --help                      –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü–æ—Ä—Ç—Ä–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞
```bash
bg-remove -m u2net_human_seg --alpha-matting portrait.jpg result.png
```

### 2. –¢–æ–≤–∞—Ä –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞
```bash
bg-remove --alpha-matting --foreground-threshold 250 product.jpg result.png
```

### 3. –ê–Ω–∏–º–µ –ø–µ—Ä—Å–æ–Ω–∞–∂
```bash
bg-remove -m isnet-anime anime_character.jpg result.png
```

### 4. –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
```bash
bg-remove -m silueta -r photos/ results/
```

### 5. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```bash
bg-remove \
  --alpha-matting \
  --foreground-threshold 250 \
  --background-threshold 5 \
  --erode-size 15 \
  input.jpg output.png
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- **–í—Ö–æ–¥:** `photo.jpg`
- **–í—ã—Ö–æ–¥:** `photo_nobg.png` (–µ—Å–ª–∏ –≤—ã—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å - –ø–∞–ø–∫–∞)
- **–í—ã—Ö–æ–¥:** `output.png` (–µ—Å–ª–∏ –≤—ã—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å - —Ñ–∞–π–ª)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏
- **–í—Ö–æ–¥:** `photos/photo1.jpg`, `photos/photo2.png`
- **–í—ã—Ö–æ–¥:** `results/photo1_nobg.png`, `results/photo2_nobg.png`

### –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **–í—Ö–æ–¥:** `photos/folder1/photo.jpg`
- **–í—ã—Ö–æ–¥:** `results/folder1/photo.png` (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫)

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ CPU Intel i5:

| –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
|------------|----------------|
| 1920x1080  | 5-15 —Å–µ–∫—É–Ω–¥    |
| 4K (3840x2160) | 20-60 —Å–µ–∫—É–Ω–¥ |
| 8K (7680x4320) | 60-180 —Å–µ–∫—É–Ω–¥ |

**üí° –ù–∞ GPU –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –≤ 3-5 —Ä–∞–∑!**

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python:** 3.7 –∏–ª–∏ –≤—ã—à–µ
- **RAM:** –º–∏–Ω–∏–º—É–º 2GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB+)
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:** ~500MB –¥–ª—è –º–æ–¥–µ–ª–µ–π

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
```
–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: No module named 'rembg'
```
**–†–µ—à–µ–Ω–∏–µ:** `pip install -r requirements.txt`

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏
```
RuntimeError: CUDA out of memory
```
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–µ–≥–∫—É—é –º–æ–¥–µ–ª—å: `-m u2netp` –∏–ª–∏ `-m silueta`

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–µ–≥–∫—É—é –º–æ–¥–µ–ª—å: `-m silueta`
- –û—Ç–∫–ª—é—á–∏—Ç–µ alpha matting
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

### –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:**
- –í–∫–ª—é—á–∏—Ç–µ alpha matting: `--alpha-matting`
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä–æ–≥–∏: `--foreground-threshold` –∏ `--background-threshold`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd background_remover
python test_example.py
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](README.md)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](QUICK_START.md)
- [üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞](install.sh)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### –í—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **PNG** (.png) - —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- **JPEG** (.jpg, .jpeg) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- **WebP** (.webp) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- **TIFF** (.tiff, .tif) - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- **BMP** (.bmp) - –±–∞–∑–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç

### –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **PNG** (.png) - —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- **WebP** (.webp) - —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `rembg` –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

---

**üéâ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —É–¥–∞–ª—è—Ç—å —Ñ–æ–Ω —Å –ª—é–±—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π!**
